<!-- src/main/resources/templates/books.html -->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:with="pageTitle='Book Collection'" th:replace="~{layout :: ~{body}}"> <!-- Definim titlul paginii aici -->

<!-- Folosim un fragment gol pentru a inlocui intregul continut al layout-ului -->
<body th:fragment="content">

<div id="main-content">
    <h1 th:text="${pageTitle}">Book Collection</h1>

    <!-- Formularul de filtrare arata mult mai bine acum, fara nicio schimbare -->
    <form action="/books" method="get">
        <div class="grid">
            <label>
                <input type="text" name="title" placeholder="Filter by Title" th:value="${titleParam}">
            </label>
            <label>
                <input type="text" name="author" placeholder="Filter by Author" th:value="${authorParam}">
            </label>
            <button type="submit">Search</button>
        </div>
    </form>

    <!-- Tabelul va fi stilizat automat de Pico.css -->
    <figure>
        <table id="books-table" role="grid">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Title</th>
                <th scope="col">Author</th>
                <th scope="col">ISBN</th>
            </tr>
            </thead>
            <tbody>
            <tr th:if="${books.isEmpty()}">
                <td colspan="4">No books match the criteria</td>
            </tr>
            <tr th:each="book : ${books}">
                <td th:text="${book.id}">1</td>
                <td th:text="${book.title}">A Book Title</td>
                <td th:text="${book.author}">An Author</td>
                <td th:text="${book.isbn}">123-456</td>
            </tr>
            </tbody>
        </table>
    </figure>
</div>

</body>
</html>